<!DOCTYPE html>
<html>
<head>
    <title>londry</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Added for mobile view -->
    <style>
        body, html {
            font-family: 'Arial', sans-serif;
            background: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            margin: 0;
        }
        .pos-container {
            width: 100%;
            max-width: 900px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .header h2 {
            margin: 0;
            color: #333;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            font-weight: bold;
        }
        .load-section {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 10px;
            position: relative;
            background: #f9f9f9;
        }
        .load-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .remove-load-btn {
            background: #ff4d4d;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 12px;
        }
        .remove-load-btn:hover {
            background: #cc0000;
        }
        .service-group, .additional-group {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }
        .service, .additional {
            padding: 5px 15px;
            margin: 5px;
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            cursor: pointer;
        }
        .selected {
            background-color: #28a745 !important;
            color: white;
        }
        select, input {
            padding: 10px;
            border-radius: 5px;
            width: 100%;
            margin-top: 5px;
        }
        .add-load-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: #28a745;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
        }
        .add-load-btn:hover {
            background: #218838;
        }
        .btn-submit {
            width: 100%;
            padding: 15px;
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
        }
        .btn-submit:hover {
            background: #0056b3;
        }
        .total-section {
            margin-top: 20px;
            padding: 15px;
            background: #f1f1f1;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .total-section label {
            font-size: 18px;
        }

        /* Mobile responsive adjustments */
        @media (max-width: 768px) {
            .pos-container {
                padding: 10px;
                width: 100%;
            }
            .service-group, .additional-group {
                flex-direction: column;
                align-items: center;
            }
            .service, .additional {
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="pos-container">
        <div class="header">
            <h2>londry</h2>
        </div>

        <!-- Received By Section -->
        <div class="form-group">
            <label>Received By</label>
            <input type="text" id="receivedBy">
        </div>

        <!-- Customer Details Section -->
        <div class="form-group">
            <label>Customer Name</label>
            <input type="text" id="customerName">
        </div>
        <div class="form-group">
            <label>Address</label>
            <input type="text" id="address">
        </div>

        <!-- Dynamic Load Sections Container -->
        <div id="loadContainer">
            <!-- First Load Section (Default) -->
            <div class="load-section" id="load-1">
                <div class="load-header">
                    <h4>Load 1</h4>
                </div>
                <div class="form-group">
                    <label>Select Service</label>
                    <div class="service-group">
                        <div class="service" data-service="Washing" data-price="55">Washing</div>
                        <div class="service" data-service="Drying" data-price="60">Drying</div>
                        <div class="service" data-service="Wash & Dry" data-price="115">Wash & Dry</div>
                        <div class="service" data-service="Wash & Dry + Fold" data-price="169">Wash & Dry + Fold</div>
                        <div class="service" data-service="Full Service" data-price="169">Full Service</div>
                        <div class="service" data-service="Premium" data-price="199">Premium</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Additional Services</label>
                    <div class="additional-group">
                        <div class="additional" data-service="Spin" data-price="20">Spin</div>
                        <div class="additional" data-service="Rinse" data-price="20">Rinse</div>
                        <div class="additional" data-service="Rinse & Spin" data-price="30">Rinse & Spin</div>
                        <div class="additional" data-service="Extend Dry" data-price="10">Extend Dry</div>
                        <div class="additional" data-service="Fold" data-price="30">Fold</div>
                        <div class="additional" data-service="Rush" data-price="30">Rush</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Load Button -->
        <button class="add-load-btn" id="addLoadBtn">Add Load +</button>

        <!-- Total Price and Payment Section -->
        <div class="total-section">
            <label>Total Price: <span id="totalPrice">0</span> Pesos</label>
            <label>Payment Received: <input type="number" id="paymentReceived" min="0"></label>
            <label>Change: <span id="change">0</span> Pesos</label>
        </div>

        <!-- Submit Button -->
        <button class="btn-submit" onclick="submitOrder()">Submit Order</button>
    </div>

    <script>
        let loadCount = 1;  // Initial Load Count

        // Function to add a new load section
        function addLoad() {
            loadCount++;
            const loadContainer = document.getElementById('loadContainer');
            const newLoad = document.createElement('div');
            newLoad.classList.add('load-section');
            newLoad.id = `load-${loadCount}`;
            newLoad.innerHTML = `
                <div class="load-header">
                    <h4>Load ${loadCount}</h4>
                    <button class="remove-load-btn" onclick="removeLoad(${loadCount})">Remove Load</button>
                </div>
                <div class="form-group">
                    <label>Select Service</label>
                    <div class="service-group">
                        <div class="service" data-service="Washing" data-price="55">Washing</div>
                        <div class="service" data-service="Drying" data-price="60">Drying</div>
                        <div class="service" data-service="Wash & Dry" data-price="115">Wash & Dry</div>
                        <div class="service" data-service="Wash & Dry + Fold" data-price="169">Wash & Dry + Fold</div>
                        <div class="service" data-service="Full Service" data-price="169">Full Service</div>
                        <div class="service" data-service="Premium" data-price="199">Premium</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Additional Services</label>
                    <div class="additional-group">
                        <div class="additional" data-service="Spin" data-price="20">Spin</div>
                        <div class="additional" data-service="Rinse & Spin" data-price="30">Rinse & Spin</div>
                        <div class="additional" data-service="Extend Dry" data-price="10">Extend Dry</div>
                        <div class="additional" data-service="Fold" data-price="30">Fold</div>
                        <div class="additional" data-service="Rush" data-price="30">Rush</div>
                    </div>
                </div>
            `;
            loadContainer.appendChild(newLoad);
            bindServiceListeners(); // Rebind event listeners for the new load section
        }

        // Function to remove a specific load section
        function removeLoad(loadId) {
            const loadToRemove = document.getElementById(`load-${loadId}`);
            loadToRemove.remove();
            calculateTotal();
        }

        // Function to handle service and additional selection
        function bindServiceListeners() {
            document.querySelectorAll('.service').forEach(serviceBtn => {
                serviceBtn.onclick = function () {
                    const parent = this.closest('.service-group');
                    parent.querySelectorAll('.service').forEach(btn => btn.classList.remove('selected'));
                    this.classList.add('selected');
                    calculateTotal();
                };
            });

            document.querySelectorAll('.additional').forEach(additionalBtn => {
                additionalBtn.onclick = function () {
                    const isRinseAndSpin = this.dataset.service === 'Rinse & Spin';
                    const rinseElement = this.closest('.additional-group').querySelector('[data-service="Rinse"]');

                    if (isRinseAndSpin && rinseElement) {
                        rinseElement.classList.remove('selected'); // Deselect Rinse when Rinse & Spin is selected
                    }

                    this.classList.toggle('selected');
                    calculateTotal();
                };
            });
        }

        // Function to calculate total price based on selections
        function calculateTotal() {
            let total = 0;

            document.querySelectorAll('.service.selected').forEach(service => {
                total += parseInt(service.dataset.price);
            });

            document.querySelectorAll('.additional.selected').forEach(additional => {
                total += parseInt(additional.dataset.price);
            });

            document.getElementById('totalPrice').innerText = total;

            const paymentReceived = parseInt(document.getElementById('paymentReceived').value) || 0;
            document.getElementById('change').innerText = paymentReceived - total;
        }

        // Rebind listeners for initial load
        bindServiceListeners();

        // Add new load event listener
        document.getElementById('addLoadBtn').addEventListener('click', addLoad);

        // Payment Received Change Event
        document.getElementById('paymentReceived').addEventListener('input', calculateTotal);

        // Placeholder function for submission
        function submitOrder() {
            alert('Order Submitted');
        }
    </script>
</body>
</html>
